<?php

namespace {{ vendor }}\{{ package }}\{{ resource }}\Model\Task\{{ command_name }};

use {{ vendor }}\{{ package }}\{{ resource }}\Model\Aggregate\{{ resource }}Type;
use Honeybee\Infrastructure\Command\CommandInterface;
use Honeybee\Infrastructure\DataAccess\DataAccessServiceInterface;
use Honeybee\Infrastructure\Event\Bus\EventBusInterface;
use Honeybee\Infrastructure\Workflow\WorkflowServiceInterface;
use Honeybee\Model\Aggregate\AggregateRootInterface;
use Honeybee\Model\Task\ModifyAggregateRoot\ModifyAggregateRootCommandHandler;
use Psr\Log\LoggerInterface;

class {{ command_name }}CommandHandler extends ModifyAggregateRootCommandHandler
{
    public function __construct(
        {{ resource }}Type ${{ resource_prefix }}_type,
        DataAccessServiceInterface $data_access_service,
        EventBusInterface $event_bus,
        WorkflowServiceInterface $workflow_service,
        LoggerInterface $logger
    ) {
        parent::__construct(${{ resource_prefix }}_type, $data_access_service, $event_bus, $workflow_service, $logger);
    }

    protected function doExecute(CommandInterface $command, AggregateRootInterface ${{ resource_prefix }})
    {
        return ${{ resource_prefix }}->{{command_name|as_camel_case}}($command);
    }
}
